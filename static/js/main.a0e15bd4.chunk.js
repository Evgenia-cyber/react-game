(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,function(e,t,s){e.exports={modal:"Modal_modal__JIIjY",active:"Modal_active__BMDm7",play_btn:"Modal_play_btn__2EMVQ",advanced:"Modal_advanced__2aA0h",author:"Modal_author__1JXBh",rs_school:"Modal_rs_school__3oQuB"}},function(e,t,s){e.exports={left:"Scores_left__2xrMA",toolbar_item:"Scores_toolbar_item__2pSj7",score_img:"Scores_score_img__5DA3O",bestscore_img:"Scores_bestscore_img__1CpBb",score:"Scores_score__1yczW"}},function(e,t,s){e.exports={close_img:"Settings_close_img__3tr9d",advanced_item:"Settings_advanced_item__1cVo5",advanced_img:"Settings_advanced_img__2dVxL",settings:"Settings_settings__290wI",settings_item:"Settings_settings_item__25waC",volume_control:"Settings_volume_control__2utGZ"}},,,function(e,t,s){e.exports={advanced_item:"ScoresStatistics_advanced_item__1JzY8",advanced_img:"ScoresStatistics_advanced_img__2foU4",scores:"ScoresStatistics_scores__1rsZz",scores_item:"ScoresStatistics_scores_item__Q1xgI"}},,,function(e,t,s){e.exports={volume:"Volume_volume__dZlV9"}},function(e,t,s){},,,,,,function(e,t,s){},,function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),o=s(13),n=s.n(o),i=(s(18),s(7)),r=s(2),l=20,d={left:300,top:100},m={left:80,top:300},u=[{left:60,top:300},{left:40,top:300}],j={left:0,top:-20},b={left:0,top:l},_={left:-20,top:0},f={left:l,top:0},p=f,v=Array.from(Array(10),(function(){return 0})),h={audio:null,playSound:function(e,t){var s=new Audio(e);s.volume=t,this.audio&&this.audio.pause();var a=s.play();this.audio=s,a.catch((function(e){}))}},O=s.p+"static/media/apple.f25fbd1c.svg",g=s.p+"static/media/close.7e2a977d.svg",x=s.p+"static/media/dead.dd44c1ab.mp3",S=s.p+"static/media/eat.0ba75cb4.mp3",N=s.p+"static/media/move.46666ef6.mp3",w=s(3),y=s.n(w),E=s.p+"static/media/award.f5001e76.svg",M=(s(12),s(4)),k=s.n(M),V=s(0),I=function(e){var t=e.score,s=e.bestScore;return Object(V.jsxs)("div",{className:k.a.left,children:[Object(V.jsxs)("div",{className:k.a.toolbar_item,children:[Object(V.jsx)("img",{className:k.a.score_img,src:O,alt:"score"}),Object(V.jsx)("span",{className:k.a.score,children:t})]}),Object(V.jsxs)("div",{className:k.a.toolbar_item,children:[Object(V.jsx)("img",{className:k.a.bestscore_img,src:E,alt:"best score"}),Object(V.jsx)("span",{className:k.a.score,children:s})]})]})},C=s(8),A=s.n(C),B=s.p+"static/media/score.61754360.svg",J=function(){var e=c.a.useState(!1),t=Object(r.a)(e,2),s=t[0],a=t[1],o=c.a.useState(v),n=Object(r.a)(o,2),i=n[0],l=n[1];c.a.useEffect((function(){if(null!==window.localStorage.getItem("scores")){var e=JSON.parse(window.localStorage.getItem("scores"));l(e)}}),[s]);var d=function(){a((function(e){return!e}))};return Object(V.jsxs)("div",{className:A.a.advanced_item,children:[Object(V.jsx)("img",{className:A.a.advanced_img,src:B,alt:"best scores",onMouseEnter:d,onMouseLeave:d}),s&&Object(V.jsxs)("div",{className:A.a.scores,children:[Object(V.jsx)("h5",{children:"YOUR TOP 10 SCORES"}),i.length&&i.map((function(e,t){return Object(V.jsxs)("div",{className:A.a.scores_item,children:[Object(V.jsx)("span",{children:t+1}),Object(V.jsx)("span",{children:e})]},t+" "+e)}))]})]})},G=s(5),L=s.n(G),R=s.p+"static/media/settings.9066db49.svg",T=function(e){var t=e.volume,s=e.setVolume,a=e.setCustomVolume,o=c.a.useState(!1),n=Object(r.a)(o,2),i=n[0],l=n[1],d=function(){l((function(e){return!e}))};return Object(V.jsxs)("div",{className:L.a.advanced_item,onMouseEnter:d,onMouseLeave:d,children:[Object(V.jsx)("img",{className:L.a.advanced_img,src:R,alt:"settings"}),i&&Object(V.jsxs)("div",{className:L.a.settings,children:[Object(V.jsx)("img",{className:L.a.close_img,src:g,alt:"close",onClick:function(){l(!1)}}),Object(V.jsx)("h5",{children:"SETTINGS"}),Object(V.jsxs)("div",{className:L.a.volume_control+" "+L.a.settings_item,children:[Object(V.jsx)("label",{htmlFor:"volume",children:"VOLUME:"}),Object(V.jsx)("input",{type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.1",value:t,onChange:function(e){s(+e.target.value),h.playSound(N,+e.target.value),a(+e.target.value)}})]})]})]})},F=s.p+"static/media/github.3a5ccf39.svg",P=s.p+"static/media/rs_school_js.ad178c0d.svg",Y=function(e){var t=e.handleOnPlayBtnClick,s=e.isGameEnd,a=e.score,o=e.bestScore,n=e.setBestScore,l=e.volume,d=e.setVolume,m=e.setCustomVolume,u=c.a.useState(v),j=Object(r.a)(u,2),b=j[0],_=j[1];return c.a.useEffect((function(){if(null!==window.localStorage.getItem("scores")){var e=JSON.parse(window.localStorage.getItem("scores"));n(e[0]),_(e)}}),[s,n]),c.a.useEffect((function(){if(s){a>o&&n(a);var e=[a].concat(Object(i.a)(b));e.sort((function(e,t){return t-e})),e.pop(),window.localStorage.setItem("scores",JSON.stringify(e))}}),[b,o,s,a,n]),Object(V.jsxs)("div",{className:y.a.modal+" "+y.a.active,children:[s?Object(V.jsx)("h2",{children:"GAME OVER"}):Object(V.jsx)("h2",{children:"START GAME"}),Object(V.jsx)(I,{score:a,bestScore:o}),Object(V.jsx)("button",{className:y.a.play_btn,children:Object(V.jsx)("span",{onClick:t,children:"PLAY"})}),Object(V.jsxs)("div",{className:y.a.advanced,children:[Object(V.jsx)(T,{volume:l,setVolume:d,setCustomVolume:m}),Object(V.jsx)(J,{})]}),Object(V.jsxs)("footer",{children:[Object(V.jsxs)("p",{children:["Author: ",Object(V.jsx)("span",{className:y.a.author,children:"Kurineva Evgenia"})]}),Object(V.jsxs)("div",{className:y.a.social,children:[" ",Object(V.jsx)("a",{href:"https://github.com/Evgenia-cyber/react-game/tree/react-game",children:Object(V.jsx)("img",{src:F,alt:"github logo"})}),Object(V.jsx)("a",{href:"https://rs.school/js/",children:Object(V.jsx)("img",{className:y.a.rs_school,src:P,alt:"rs_school logo"})})]}),Object(V.jsxs)("div",{children:["Icons made by"," ",Object(V.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," ","from"," ",Object(V.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]}),Object(V.jsx)("span",{children:"2021"})]})]})},z=s.p+"static/media/sound.8309efb1.svg",D=s.p+"static/media/no_sound.ddaaa467.svg",K=s(11),Q=s.n(K),U=function(e){var t=e.volume,s=e.setVolume,a=e.customVolume;return Object(V.jsx)("div",{className:Q.a.volume+" "+Q.a.toolbar_item,children:Object(V.jsx)("img",{src:0===t?D:z,alt:"volume",onClick:function(){s(0===t?a:0)}})})},Z=function(){var e={field:{width:"".concat(400,"px"),height:"".concat(400,"px")}},t=c.a.useRef(),s=c.a.useState(m),a=Object(r.a)(s,2),o=a[0],n=a[1],v=c.a.useState(u),w=Object(r.a)(v,2),y=w[0],E=w[1],M=c.a.useState(p),k=Object(r.a)(M,2),C=k[0],A=k[1],B=c.a.useState(d),J=Object(r.a)(B,2),G=J[0],L=J[1],R=c.a.useState(0),T=Object(r.a)(R,2),F=T[0],P=T[1],z=c.a.useState(0),D=Object(r.a)(z,2),K=D[0],Q=D[1],Z=c.a.useState(!1),W=Object(r.a)(Z,2),X=W[0],q=W[1],H=c.a.useState(!0),$=Object(r.a)(H,2),ee=$[0],te=$[1],se=c.a.useState(.5),ae=Object(r.a)(se,2),ce=ae[0],oe=ae[1],ne=c.a.useState(.5),ie=Object(r.a)(ne,2),re=ie[0],le=ie[1];c.a.useEffect((function(){var e=function(e,t){return Math.floor(Math.random()*(e/t))*t},t=function t(){var s={left:e(400,l),top:e(400,l)};return function(e){var t=Object(i.a)(y);return t.unshift(o),t.some((function(t){return t.left===e.left&&t.top===e.top}))}(s)&&(s=t()),s},s=setInterval((function(){ee===X&&(E((function(e){var s=Object(i.a)(e);if(o.left===G.left&&o.top===G.top){h.playSound(S,ce),P(F+1);var a=t();L(a)}else s.pop();return s.unshift(o),s})),n((function(e){return{left:e.left+C.left,top:e.top+C.top}}))),(o.left<0||o.top<0||o.left>380||o.top>380||y.some((function(e){return e.left===o.left&&e.top===o.top})))&&(X||h.playSound(x,ce,!0),q(!0),clearInterval(s))}),200);return function(){return clearInterval(s)}}),[C,o,y,G,F,X,ee,ce]);return Object(V.jsxs)("div",{ref:t,className:"game",role:"button",tabIndex:0,onKeyDown:function(e){return function(e){switch(h.playSound(N,ce),e.keyCode){case 38:C!==b&&A(j);break;case 40:C!==j&&A(b);break;case 37:C!==f&&A(_);break;case 39:C!==_&&A(f);break;default:A(f)}}(e)},children:[Object(V.jsxs)("div",{className:"wrapper",children:[Object(V.jsx)("h1",{children:"SNAKE GAME"}),Object(V.jsxs)("div",{className:"container",children:[Object(V.jsxs)("div",{className:"toolbar",children:[Object(V.jsx)(I,{score:F,bestScore:K}),Object(V.jsxs)("div",{className:"right",children:[Object(V.jsx)(U,{volume:ce,setVolume:oe,customVolume:re}),Object(V.jsx)("div",{className:"close toolbar_item",onClick:function(){q(!0)},children:Object(V.jsx)("img",{src:g,alt:"close"})})]})]}),Object(V.jsxs)("div",{style:e.field,className:"game_field",children:[Object(V.jsx)("div",{className:"apple game_item",style:{left:"".concat(G.left,"px"),top:"".concat(G.top,"px")},children:Object(V.jsx)("img",{src:O,alt:"apple"})}),Object(V.jsxs)("div",{className:"snake",children:[Object(V.jsx)("div",{className:"snake_head game_item",style:{left:"".concat(o.left,"px"),top:"".concat(o.top,"px")}}),y.map((function(e,t){return Object(V.jsx)("div",{className:"snake_body game_item",style:{left:"".concat(e.left,"px"),top:"".concat(e.top,"px")}},t+""+e.left+e.top)}))]})]})]})]}),X!==ee&&Object(V.jsx)(Y,{volume:ce,setVolume:oe,handleOnPlayBtnClick:function(){t.current.focus(),n(m),E(u),L(d),A(p),q(!1),te(!1),P(0)},isGameEnd:X,score:F,bestScore:K,setBestScore:Q,setCustomVolume:le})]})};n.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(Z,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.a0e15bd4.chunk.js.map