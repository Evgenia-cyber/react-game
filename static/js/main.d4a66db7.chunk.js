(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,function(e,t,a){e.exports={container:"GameField_container__24kf_",toolbar:"GameField_toolbar__2uoIP",right:"GameField_right__3YOP0",toolbar_item:"GameField_toolbar_item__l8Gvc",close:"GameField_close__3FmTQ",game_field:"GameField_game_field__2O2qp",game_item:"GameField_game_item__2BMXS",snake_head:"GameField_snake_head__jG5IG",snake_body:"GameField_snake_body__2ZXb7",apple:"GameField_apple__1Nkzc"}},function(e,t,a){e.exports={modal:"Modal_modal__JIIjY",active:"Modal_active__BMDm7",play_btn:"Modal_play_btn__2EMVQ",advanced:"Modal_advanced__2aA0h",author:"Modal_author__1JXBh",rs_school:"Modal_rs_school__3oQuB"}},function(e,t,a){e.exports={left:"Scores_left__2xrMA",toolbar_item:"Scores_toolbar_item__2pSj7",score_img:"Scores_score_img__5DA3O",bestscore_img:"Scores_bestscore_img__1CpBb",score:"Scores_score__1yczW"}},function(e,t,a){e.exports={close_img:"Settings_close_img__3tr9d",advanced_item:"Settings_advanced_item__1cVo5",advanced_img:"Settings_advanced_img__2dVxL",settings:"Settings_settings__290wI",settings_item:"Settings_settings_item__25waC",volume_control:"Settings_volume_control__2utGZ"}},,,function(e,t,a){e.exports={advanced_item:"ScoresStatistics_advanced_item__1JzY8",advanced_img:"ScoresStatistics_advanced_img__2foU4",scores:"ScoresStatistics_scores__1rsZz",scores_item:"ScoresStatistics_scores_item__Q1xgI"}},,,function(e,t,a){e.exports={volume:"Volume_volume__dZlV9"}},function(e,t,a){},,function(e,t,a){e.exports={wrapper:"Game_wrapper__18lHl"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),o=a(14),n=a.n(o),i=(a(20),a(2)),l=20,r={left:300,top:100},d={left:80,top:300},m=[{left:60,top:300},{left:40,top:300}],u={left:0,top:-20},_={left:0,top:l},j={left:-20,top:0},b={left:l,top:0},f=b,p=Array.from(Array(10),(function(){return 0})),h={audio:null,playSound:function(e,t){var a=new Audio(e);a.volume=t,this.audio&&a.onended&&this.audio.pause();var s=a.play();this.audio=a,s.catch((function(e){}))}},v=a.p+"static/media/move.46666ef6.mp3",O=a(8),g=a(4),x=a.n(g),S=a.p+"static/media/apple.f25fbd1c.svg",y=a.p+"static/media/award.f5001e76.svg",N=(a(13),a(5)),k=a.n(N),w=a(0),E=function(e){var t=e.score,a=e.bestScore;return Object(w.jsxs)("div",{className:k.a.left,children:[Object(w.jsxs)("div",{className:k.a.toolbar_item,children:[Object(w.jsx)("img",{className:k.a.score_img,src:S,alt:"score"}),Object(w.jsx)("span",{className:k.a.score,children:t})]}),Object(w.jsxs)("div",{className:k.a.toolbar_item,children:[Object(w.jsx)("img",{className:k.a.bestscore_img,src:y,alt:"best score"}),Object(w.jsx)("span",{className:k.a.score,children:a})]})]})},G=a(9),I=a.n(G),M=a.p+"static/media/score.61754360.svg",V=function(){var e=c.a.useState(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],o=c.a.useState(p),n=Object(i.a)(o,2),l=n[0],r=n[1];c.a.useEffect((function(){if(null!==window.localStorage.getItem("scores")){var e=JSON.parse(window.localStorage.getItem("scores"));r(e)}}),[a]);var d=function(){s((function(e){return!e}))};return Object(w.jsxs)("div",{className:I.a.advanced_item,children:[Object(w.jsx)("img",{className:I.a.advanced_img,src:M,alt:"best scores",onMouseEnter:d,onMouseLeave:d}),a&&Object(w.jsxs)("div",{className:I.a.scores,children:[Object(w.jsx)("h5",{children:"YOUR TOP 10 SCORES"}),l.length&&l.map((function(e,t){return Object(w.jsxs)("div",{className:I.a.scores_item,children:[Object(w.jsx)("span",{children:t+1}),Object(w.jsx)("span",{children:e})]},t+" "+e)}))]})]})},C=a(6),F=a.n(C),A=a.p+"static/media/settings.9066db49.svg",B=a.p+"static/media/close.7e2a977d.svg",T=function(e){var t=e.volume,a=e.setVolume,s=e.setCustomVolume,o=c.a.useState(!1),n=Object(i.a)(o,2),l=n[0],r=n[1],d=function(){r((function(e){return!e}))};return Object(w.jsxs)("div",{className:F.a.advanced_item,onMouseEnter:d,onMouseLeave:d,children:[Object(w.jsx)("img",{className:F.a.advanced_img,src:A,alt:"settings"}),l&&Object(w.jsxs)("div",{className:F.a.settings,children:[Object(w.jsx)("img",{className:F.a.close_img,src:B,alt:"close",onClick:function(){r(!1)}}),Object(w.jsx)("h5",{children:"SETTINGS"}),Object(w.jsxs)("div",{className:F.a.volume_control+" "+F.a.settings_item,children:[Object(w.jsx)("label",{htmlFor:"volume",children:"VOLUME:"}),Object(w.jsx)("input",{type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.1",value:t,onChange:function(e){a(+e.target.value),h.playSound(v,+e.target.value),s(+e.target.value)}})]})]})]})},J=a.p+"static/media/github.3a5ccf39.svg",R=a.p+"static/media/rs_school_js.ad178c0d.svg",Y=function(e){var t=e.handleOnPlayBtnClick,a=e.isGameEnd,s=e.score,o=e.bestScore,n=e.setBestScore,l=e.volume,r=e.setVolume,d=e.setCustomVolume,m=c.a.useState(p),u=Object(i.a)(m,2),_=u[0],j=u[1];return c.a.useEffect((function(){if(null!==window.localStorage.getItem("scores")){var e=JSON.parse(window.localStorage.getItem("scores"));n(e[0]),j(e)}}),[a,n]),c.a.useEffect((function(){if(a){s>o&&n(s);var e=[s].concat(Object(O.a)(_));e.sort((function(e,t){return t-e})),e.pop(),window.localStorage.setItem("scores",JSON.stringify(e))}}),[_,o,a,s,n]),Object(w.jsxs)("div",{className:x.a.modal+" "+x.a.active,children:[a?Object(w.jsx)("h2",{children:"GAME OVER"}):Object(w.jsx)("h2",{children:"START GAME"}),Object(w.jsx)(E,{score:s,bestScore:o}),Object(w.jsx)("button",{className:x.a.play_btn,children:Object(w.jsx)("span",{onClick:t,children:"PLAY"})}),Object(w.jsxs)("div",{className:x.a.advanced,children:[Object(w.jsx)(T,{volume:l,setVolume:r,setCustomVolume:d}),Object(w.jsx)(V,{})]}),Object(w.jsxs)("footer",{children:[Object(w.jsxs)("p",{children:["Author: ",Object(w.jsx)("span",{className:x.a.author,children:"Kurineva Evgenia"})]}),Object(w.jsxs)("div",{className:x.a.social,children:[" ",Object(w.jsx)("a",{href:"https://github.com/Evgenia-cyber/react-game/tree/react-game",children:Object(w.jsx)("img",{src:J,alt:"github logo"})}),Object(w.jsx)("a",{href:"https://rs.school/js/",children:Object(w.jsx)("img",{className:x.a.rs_school,src:R,alt:"rs_school logo"})})]}),Object(w.jsxs)("div",{children:["Icons made by"," ",Object(w.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," ","from"," ",Object(w.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]}),Object(w.jsx)("span",{children:"2021"})]})]})},P=a.p+"static/media/dead.dd44c1ab.mp3",D=a.p+"static/media/eat.0ba75cb4.mp3",H=a.p+"static/media/sound.8309efb1.svg",L=a.p+"static/media/no_sound.ddaaa467.svg",X=a(12),z=a.n(X),Q=function(e){var t=e.volume,a=e.setVolume,s=e.customVolume;return Object(w.jsx)("div",{className:z.a.volume+" "+z.a.toolbar_item,children:Object(w.jsx)("img",{src:0===t?L:H,alt:"volume",onClick:function(){a(0===t?s:0)}})})},Z=a(3),K=a.n(Z),U=function(e,t,a,s,c,o){c?e!==b&&t(j):s?e!==u&&t(_):a?e!==_&&t(u):o&&e!==j&&t(b)},q=function(e){var t=e.snakeHead,a=e.setSnakeHead,s=e.snakeBodyItems,o=e.setSnakeBodyItems,n=e.direction,i=e.setDirection,r=e.apple,d=e.setApple,m=e.score,u=e.setScore,_=e.bestScore,j=e.isFirstStart,b=e.customVolume,f=e.volume,p=e.setVolume,g=e.isGameEnd,x=e.setIsGameEnd,y=e.fieldRef,N={field:{width:"".concat(400,"px"),height:"".concat(400,"px")}};c.a.useEffect((function(){var e=function(e,t){return Math.floor(Math.random()*(e/t))*t},c=function a(){var c={left:e(400,l),top:e(400,l)};return function(e){var a=Object(O.a)(s);return a.unshift(t),a.some((function(t){return t.left===e.left&&t.top===e.top}))}(c)&&(c=a()),c},i=setInterval((function(){t.left<0||t.top<0||t.left>380||t.top>380||s.some((function(e){return e.left===t.left&&e.top===t.top}))?(g||h.playSound(P,f,!0),x(!0),clearInterval(i)):j===g&&(o((function(e){var a=Object(O.a)(e);if(t.left===r.left&&t.top===r.top){h.playSound(D,f),u(m+1);var s=c();d(s)}else a.pop();return a.unshift(t),a})),a((function(e){return{left:e.left+n.left,top:e.top+n.top}})))}),200);return function(){return clearInterval(i)}}),[n,t,s,r,j]);return Object(w.jsxs)("div",{className:K.a.container,ref:y,role:"button",tabIndex:0,onKeyDown:function(e){return function(e){var t=38===e.keyCode,a=40===e.keyCode,s=37===e.keyCode,c=39===e.keyCode;(t||a||s||c)&&h.playSound(v,f),U(n,i,t,a,s,c)}(e)},children:[Object(w.jsxs)("div",{className:K.a.toolbar,children:[Object(w.jsx)(E,{score:m,bestScore:_}),Object(w.jsxs)("div",{className:K.a.right,children:[Object(w.jsx)(Q,{volume:f,setVolume:p,customVolume:b}),Object(w.jsx)("div",{className:K.a.close+" "+K.a.toolbar_item,onClick:function(){x(!0)},children:Object(w.jsx)("img",{src:B,alt:"close"})})]})]}),Object(w.jsxs)("div",{style:N.field,className:K.a.game_field,children:[Object(w.jsx)("div",{className:K.a.apple+" "+K.a.game_item,style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px")},children:Object(w.jsx)("img",{src:S,alt:"apple"})}),Object(w.jsxs)("div",{className:K.a.snake,children:[Object(w.jsx)("div",{className:K.a.snake_head+" "+K.a.game_item,style:{left:"".concat(t.left,"px"),top:"".concat(t.top,"px")}}),s.map((function(e,t){return Object(w.jsx)("div",{className:K.a.snake_body+" "+K.a.game_item,style:{left:"".concat(e.left,"px"),top:"".concat(e.top,"px")}},t+""+e.left+e.top)}))]})]})]})},W=a(15),$=a.n(W),ee=function(){var e=c.a.useRef(),t=c.a.useState(d),a=Object(i.a)(t,2),s=a[0],o=a[1],n=c.a.useState(m),l=Object(i.a)(n,2),u=l[0],_=l[1],j=c.a.useState(f),b=Object(i.a)(j,2),p=b[0],O=b[1],g=c.a.useState(r),x=Object(i.a)(g,2),S=x[0],y=x[1],N=c.a.useState(0),k=Object(i.a)(N,2),E=k[0],G=k[1],I=c.a.useState(0),M=Object(i.a)(I,2),V=M[0],C=M[1],F=c.a.useState(!1),A=Object(i.a)(F,2),B=A[0],T=A[1],J=c.a.useState(!0),R=Object(i.a)(J,2),P=R[0],D=R[1],H=c.a.useState(.5),L=Object(i.a)(H,2),X=L[0],z=L[1],Q=c.a.useState(.5),Z=Object(i.a)(Q,2),K=Z[0],W=Z[1],ee=c.a.useState({x:0,y:0}),te=Object(i.a)(ee,2),ae=te[0],se=te[1];return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:$.a.wrapper,onTouchStart:function(e){h.playSound(v,X),se({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY})},onTouchEnd:function(e){var t={x:e.changedTouches[0].clientX-ae.x,y:e.changedTouches[0].clientY-ae.y},a=Math.abs(t.x)<Math.abs(t.y);U(p,O,a&&t.y<0,a&&t.y>0,!a&&t.x<0,!a&&t.x>0)},children:[Object(w.jsx)("h1",{children:"SNAKE GAME"}),Object(w.jsx)(q,{snakeHead:s,setSnakeHead:o,snakeBodyItems:u,setSnakeBodyItems:_,direction:p,setDirection:O,apple:S,setApple:y,score:E,setScore:G,bestScore:V,isFirstStart:P,customVolume:K,volume:X,setVolume:z,isGameEnd:B,setIsGameEnd:T,fieldRef:e})]}),B!==P&&Object(w.jsx)(Y,{volume:X,setVolume:z,handleOnPlayBtnClick:function(){e.current.focus(),o(d),_(m),y(r),O(f),T(!1),D(!1),G(0)},isGameEnd:B,score:E,bestScore:V,setBestScore:C,setCustomVolume:W})]})},te=function(){return Object(w.jsx)(ee,{})};n.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(te,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.d4a66db7.chunk.js.map