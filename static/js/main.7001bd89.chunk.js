(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,function(e,t,a){e.exports={close_img:"Settings_close_img__3tr9d",advanced_item:"Settings_advanced_item__1cVo5",advanced_img:"Settings_advanced_img__2dVxL",settings:"Settings_settings__290wI",settings_item:"Settings_settings_item__25waC",field_control:"Settings_field_control__CD6uG",container:"Settings_container__25MLD",checkmark:"Settings_checkmark__2USlw"}},,function(e,t,a){e.exports={container:"GameField_container__24kf_",toolbar:"GameField_toolbar__2uoIP",right:"GameField_right__3YOP0",toolbar_item:"GameField_toolbar_item__l8Gvc",close:"GameField_close__3FmTQ",game_field:"GameField_game_field__2O2qp",game_item:"GameField_game_item__2BMXS",snake_head:"GameField_snake_head__jG5IG",snake_body:"GameField_snake_body__2ZXb7",apple:"GameField_apple__1Nkzc",green:"GameField_green__2_-Hi",blue:"GameField_blue__1jQwq",red:"GameField_red__19-Ai"}},function(e,t,a){e.exports={left:"Scores_left__2xrMA",toolbar_item:"Scores_toolbar_item__2pSj7",score_img:"Scores_score_img__5DA3O",bestscore_img:"Scores_bestscore_img__1CpBb",score:"Scores_score__1yczW"}},function(e,t,a){e.exports={modal:"Modal_modal__JIIjY",active:"Modal_active__BMDm7",advanced:"Modal_advanced__2aA0h",author:"Modal_author__1JXBh",rs_school:"Modal_rs_school__3oQuB"}},,,function(e,t,a){e.exports={advanced_item:"ScoresStatistics_advanced_item__1JzY8",advanced_img:"ScoresStatistics_advanced_img__2foU4",scores:"ScoresStatistics_scores__1rsZz",scores_item:"ScoresStatistics_scores_item__Q1xgI"}},,,,,function(e,t,a){e.exports={volume:"Volume_volume__dZlV9"}},,function(e,t,a){e.exports={wrapper:"Game_wrapper__18lHl"}},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(15),o=a.n(n),l=(a(21),a(3)),i=20,r=200,d={left:280,top:100},m={left:80,top:280},u=[{left:60,top:280},{left:40,top:280}],j={left:0,top:-20},b={left:0,top:i},_={left:-20,top:0},h={left:i,top:0},p=h,f=Array.from(Array(10),(function(){return 0})),O={audio:null,playSound:function(e,t){var a=new Audio(e);a.volume=t,this.audio&&a.onended&&this.audio.pause();var s=a.play();this.audio=a,s.catch((function(e){}))}},g=function(e,t,a,s,c,n){c?e!==h&&t(_):s?e!==j&&t(b):a?e!==b&&t(j):n&&e!==_&&t(h)},x=a.p+"static/media/move.46666ef6.mp3",v=a(8),S=a.p+"static/media/github.3a5ccf39.svg",N=a.p+"static/media/rs_school_js.ad178c0d.svg",k=a.p+"static/media/apple.f25fbd1c.svg",y=a.p+"static/media/award.f5001e76.svg",C=a(5),w=a.n(C),I=a(0),E=function(e){var t=e.score,a=e.bestScore;return Object(I.jsxs)("div",{className:w.a.left,children:[Object(I.jsxs)("div",{className:w.a.toolbar_item,children:[Object(I.jsx)("img",{className:w.a.score_img,src:k,alt:"score"}),Object(I.jsx)("span",{className:w.a.score,children:t})]}),Object(I.jsxs)("div",{className:w.a.toolbar_item,children:[Object(I.jsx)("img",{className:w.a.bestscore_img,src:y,alt:"best score"}),Object(I.jsx)("span",{className:w.a.score,children:a})]})]})},G=a.p+"static/media/score.61754360.svg",V=a(9),M=a.n(V),F=function(){var e=c.a.useState(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],n=c.a.useState(f),o=Object(l.a)(n,2),i=o[0],r=o[1];c.a.useEffect((function(){if(null!==window.localStorage.getItem("scores")){var e=JSON.parse(window.localStorage.getItem("scores"));r(e)}}),[a]);var d=function(){s((function(e){return!e}))};return Object(I.jsxs)("div",{className:M.a.advanced_item,children:[Object(I.jsx)("img",{className:M.a.advanced_img,src:G,alt:"best scores",onMouseEnter:d,onMouseLeave:d}),a&&Object(I.jsxs)("div",{className:M.a.scores,children:[Object(I.jsx)("h5",{children:"YOUR TOP 10 SCORES"}),i.length&&i.map((function(e,t){return Object(I.jsxs)("div",{className:M.a.scores_item,children:[Object(I.jsx)("span",{children:t+1}),Object(I.jsx)("span",{children:e})]},t+" "+e)}))]})]})},A=a(11),B=a(13),T=a.p+"static/media/settings.9066db49.svg",D=a.p+"static/media/close.7e2a977d.svg",J=a(2),L=a.n(J),R=function(e){var t=e.volume,a=e.setVolume,s=e.setCustomVolume,n=e.customSettings,o=e.setCustomSettings,i=c.a.useState(!1),d=Object(l.a)(i,2),m=d[0],u=d[1],j=c.a.useState(n),b=Object(l.a)(j,2),_=b[0],h=b[1],p=function(e){var t=e.target,a=t.name,s="color"===t.name?t.value:+t.value;h((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(A.a)({},a,s))}))},f=function(){u((function(e){return!e}))};return Object(I.jsxs)("div",{className:L.a.advanced_item,onMouseEnter:f,onMouseLeave:f,children:[Object(I.jsx)("img",{className:L.a.advanced_img,src:T,alt:"settings"}),m&&Object(I.jsxs)("div",{className:L.a.settings,children:[Object(I.jsx)("img",{className:L.a.close_img,src:D,alt:"close",onClick:function(){u(!1)}}),Object(I.jsx)("h5",{children:"SETTINGS"}),Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(_)},children:[Object(I.jsxs)("div",{className:L.a.field_control+" "+L.a.settings_item,children:[Object(I.jsx)("label",{children:"FIELD:"}),Object(I.jsxs)("label",{children:["width:",Object(I.jsx)("input",{type:"number",name:"widthInCells",max:60,min:15,value:_.widthInCells,onChange:p}),"cells"]}),Object(I.jsxs)("label",{children:["height:",Object(I.jsx)("input",{type:"number",name:"heightInCells",max:25,min:15,value:_.heightInCells,onChange:p}),"cells"]})]}),Object(I.jsxs)("div",{className:L.a.speed_control+" "+L.a.settings_item,children:[Object(I.jsx)("label",{children:"SPEED:"}),Object(I.jsxs)("label",{className:L.a.container,children:[Object(I.jsx)("input",{type:"radio",name:"speed",value:r,checked:_.speed===r,onChange:p}),Object(I.jsx)("span",{className:L.a.checkmark}),"slow"]}),Object(I.jsxs)("label",{className:L.a.container,children:[Object(I.jsx)("input",{type:"radio",name:"speed",value:50,checked:50===_.speed,onChange:p}),Object(I.jsx)("span",{className:L.a.checkmark}),"fast"]})]}),Object(I.jsxs)("div",{className:L.a.color_control+" "+L.a.settings_item,children:[Object(I.jsx)("label",{children:"COLOR:"}),Object(I.jsxs)("label",{className:L.a.container,children:[Object(I.jsx)("input",{type:"radio",name:"color",value:"green",checked:"green"===_.color,onChange:p}),Object(I.jsx)("span",{className:L.a.checkmark}),"green"]}),Object(I.jsxs)("label",{className:L.a.container,children:[Object(I.jsx)("input",{type:"radio",name:"color",value:"red",checked:"red"===_.color,onChange:p}),Object(I.jsx)("span",{className:L.a.checkmark}),"red"]}),Object(I.jsxs)("label",{className:L.a.container,children:[Object(I.jsx)("input",{type:"radio",name:"color",value:"blue",checked:"blue"===_.color,onChange:p}),Object(I.jsx)("span",{className:L.a.checkmark}),"blue"]})]}),Object(I.jsxs)("div",{className:L.a.volume_control+" "+L.a.settings_item,children:[Object(I.jsx)("label",{htmlFor:"volume",children:"VOLUME:"}),Object(I.jsx)("input",{type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.1",value:t,onChange:function(e){a(+e.target.value),O.playSound(x,+e.target.value),s(+e.target.value)}})]}),Object(I.jsx)("input",{type:"submit",value:"SAVE SETTINGS",className:"play_btn"})]})]})]})},P=a(6),Y=a.n(P),H=function(e){var t=e.handleOnPlayBtnClick,a=e.isGameEnd,s=e.score,n=e.bestScore,o=e.setBestScore,i=e.volume,r=e.setVolume,d=e.setCustomVolume,m=e.customSettings,u=e.setCustomSettings,j=c.a.useState(f),b=Object(l.a)(j,2),_=b[0],h=b[1];return c.a.useEffect((function(){if(null!==window.localStorage.getItem("scores")){var e=JSON.parse(window.localStorage.getItem("scores"));o(e[0]),h(e)}}),[a,o]),c.a.useEffect((function(){if(a){s>n&&o(s);var e=[s].concat(Object(v.a)(_));e.sort((function(e,t){return t-e})),e.pop(),window.localStorage.setItem("scores",JSON.stringify(e))}}),[_,n,a,s,o]),Object(I.jsxs)("div",{className:Y.a.modal+" "+Y.a.active,children:[a?Object(I.jsx)("h2",{children:"GAME OVER"}):Object(I.jsx)("h2",{children:"START GAME"}),Object(I.jsx)(E,{score:s,bestScore:n}),Object(I.jsx)("button",{className:"play_btn",children:Object(I.jsx)("span",{onClick:t,children:"PLAY"})}),Object(I.jsxs)("div",{className:Y.a.advanced,children:[Object(I.jsx)(R,{volume:i,setVolume:r,setCustomVolume:d,customSettings:m,setCustomSettings:u}),Object(I.jsx)(F,{})]}),Object(I.jsxs)("footer",{children:[Object(I.jsxs)("p",{children:["Author: ",Object(I.jsx)("span",{className:Y.a.author,children:"Kurineva Evgenia"})]}),Object(I.jsxs)("div",{className:Y.a.social,children:[" ",Object(I.jsx)("a",{href:"https://github.com/Evgenia-cyber/react-game/tree/react-game",children:Object(I.jsx)("img",{src:S,alt:"github logo"})}),Object(I.jsx)("a",{href:"https://rs.school/js/",children:Object(I.jsx)("img",{className:Y.a.rs_school,src:N,alt:"rs_school logo"})})]}),Object(I.jsxs)("div",{children:["Icons made by"," ",Object(I.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," ","from"," ",Object(I.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]}),Object(I.jsx)("span",{children:"2021"})]})]})},X=a.p+"static/media/dead.dd44c1ab.mp3",z=a.p+"static/media/eat.0ba75cb4.mp3",Q=a.p+"static/media/sound.8309efb1.svg",U=a.p+"static/media/no_sound.ddaaa467.svg",K=a(14),Z=a.n(K),q=function(e){var t=e.volume,a=e.setVolume,s=e.customVolume;return Object(I.jsx)("div",{className:Z.a.volume+" "+Z.a.toolbar_item,children:Object(I.jsx)("img",{src:0===t?U:Q,alt:"volume",onClick:function(){a(0===t?s:0)}})})},W=a(4),$=a.n(W),ee=function(e){var t=e.snakeHead,a=e.setSnakeHead,s=e.snakeBodyItems,n=e.setSnakeBodyItems,o=e.direction,l=e.setDirection,r=e.apple,d=e.setApple,m=e.score,u=e.setScore,j=e.bestScore,b=e.isFirstStart,_=e.customVolume,h=e.volume,p=e.setVolume,f=e.isGameEnd,S=e.setIsGameEnd,N=e.fieldRef,y=e.customSettings,C={field:{width:"".concat(y.widthInCells*i,"px"),height:"".concat(y.heightInCells*i,"px")}},w=y.widthInCells*i,G=y.heightInCells*i;c.a.useEffect((function(){var e=function(e,t){return Math.floor(Math.random()*(e/t))*t},c=function a(){var c={left:e(w,i),top:e(G,i)};return function(e){var a=Object(v.a)(s);return a.unshift(t),a.some((function(t){return t.left===e.left&&t.top===e.top}))}(c)&&(c=a()),c},l=setInterval((function(){t.left<0||t.top<0||t.left>w-i||t.top>G-i||s.some((function(e){return e.left===t.left&&e.top===t.top}))?(f||O.playSound(X,h,!0),S(!0),clearInterval(l)):b===f&&(n((function(e){var a=Object(v.a)(e);if(t.left===r.left&&t.top===r.top){O.playSound(z,h),u(m+1);var s=c();d(s)}else a.pop();return a.unshift(t),a})),a((function(e){return{left:e.left+o.left,top:e.top+o.top}})))}),y.speed);return function(){return clearInterval(l)}}),[o,t,s,r,b]);var V="green"===y.color?$.a.green:"blue"===y.color?$.a.blue:$.a.red;return Object(I.jsxs)("div",{className:$.a.container,ref:N,role:"button",tabIndex:0,onKeyDown:function(e){return function(e){var t=38===e.keyCode,a=40===e.keyCode,s=37===e.keyCode,c=39===e.keyCode;(t||a||s||c)&&O.playSound(x,h),g(o,l,t,a,s,c)}(e)},children:[Object(I.jsxs)("div",{className:$.a.toolbar,children:[Object(I.jsx)(E,{score:m,bestScore:j}),Object(I.jsxs)("div",{className:$.a.right,children:[Object(I.jsx)(q,{volume:h,setVolume:p,customVolume:_}),Object(I.jsx)("div",{className:$.a.close+" "+$.a.toolbar_item,onClick:function(){S(!0)},children:Object(I.jsx)("img",{src:D,alt:"close"})})]})]}),Object(I.jsxs)("div",{style:C.field,className:$.a.game_field,children:[Object(I.jsx)("div",{className:$.a.apple+" "+$.a.game_item,style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px")},children:Object(I.jsx)("img",{src:k,alt:"apple"})}),Object(I.jsxs)("div",{className:$.a.snake,children:[Object(I.jsx)("div",{className:$.a.snake_head+" "+$.a.game_item+" "+V,style:{left:"".concat(t.left,"px"),top:"".concat(t.top,"px")}}),s.map((function(e,t){return Object(I.jsx)("div",{className:$.a.snake_body+" "+$.a.game_item+" "+V,style:{left:"".concat(e.left,"px"),top:"".concat(e.top,"px")}},t+""+e.left+e.top)}))]})]})]})},te=a(16),ae=a.n(te),se=function(){var e=c.a.useRef(),t=c.a.useState(m),a=Object(l.a)(t,2),s=a[0],n=a[1],o=c.a.useState(u),i=Object(l.a)(o,2),j=i[0],b=i[1],_=c.a.useState(p),h=Object(l.a)(_,2),f=h[0],v=h[1],S=c.a.useState(d),N=Object(l.a)(S,2),k=N[0],y=N[1],C=c.a.useState(0),w=Object(l.a)(C,2),E=w[0],G=w[1],V=c.a.useState(0),M=Object(l.a)(V,2),F=M[0],A=M[1],B=c.a.useState(!1),T=Object(l.a)(B,2),D=T[0],J=T[1],L=c.a.useState(!0),R=Object(l.a)(L,2),P=R[0],Y=R[1],X=c.a.useState(.5),z=Object(l.a)(X,2),Q=z[0],U=z[1],K=c.a.useState(.5),Z=Object(l.a)(K,2),q=Z[0],W=Z[1],$=c.a.useState({x:0,y:0}),te=Object(l.a)($,2),se=te[0],ce=te[1],ne=c.a.useState({widthInCells:20,heightInCells:20,color:"green",speed:r}),oe=Object(l.a)(ne,2),le=oe[0],ie=oe[1];return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:ae.a.wrapper,onTouchStart:function(e){O.playSound(x,Q),ce({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY})},onTouchEnd:function(e){var t={x:e.changedTouches[0].clientX-se.x,y:e.changedTouches[0].clientY-se.y},a=Math.abs(t.x)<Math.abs(t.y);g(f,v,a&&t.y<0,a&&t.y>0,!a&&t.x<0,!a&&t.x>0)},children:[Object(I.jsx)("h1",{children:"SNAKE GAME"}),Object(I.jsx)(ee,{snakeHead:s,setSnakeHead:n,snakeBodyItems:j,setSnakeBodyItems:b,direction:f,setDirection:v,apple:k,setApple:y,score:E,setScore:G,bestScore:F,isFirstStart:P,customVolume:q,volume:Q,setVolume:U,isGameEnd:D,setIsGameEnd:J,fieldRef:e,customSettings:le})]}),D!==P&&Object(I.jsx)(H,{volume:Q,setVolume:U,handleOnPlayBtnClick:function(){e.current.focus(),n(m),b(u),y(d),v(p),J(!1),Y(!1),G(0)},isGameEnd:D,score:E,bestScore:F,setBestScore:A,setCustomVolume:W,customSettings:le,setCustomSettings:ie})]})},ce=(a(23),function(){return Object(I.jsx)(se,{})});o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(ce,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.7001bd89.chunk.js.map